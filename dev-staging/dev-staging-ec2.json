{
  "AWSTemplateFormatVersion" : "2010-09-09",
  "Description" : "DevStaging EC2 Stack (Set up ImageID and KeyName befor launching)",

  "Resources" : {
        "Jenkins" : {
             "Type" : "AWS::EC2::Instance",
             "Properties" : {
                  "InstanceType" : "t2.small",
                  "ImageId" : "ami-013cf2d4740e2905b",
                  "KeyName" : "EDSNDevStaging",
                  "SubnetId": { "Fn::ImportValue" : {"Fn::Sub" : "dev-staging-network-DevStagingServerSubnetA"} },
                  "SecurityGroupIds" : [ { "Fn::ImportValue" : {"Fn::Sub" : "dev-staging-security-group-server-DevStagingServerSecurityGroup"} }],
                  "Tags" : [ {"Key" : "Name", "Value" : "Jenkins"} ],
                  "BlockDeviceMappings" : [
                         {
                            "DeviceName" : "/dev/sda1",
                            "Ebs" :
                                {
                                   "VolumeType" : "gp2",
                                   "DeleteOnTermination" : "true",
                                   "VolumeSize" : "20"
                                }
                         }
                  ]
             }
        },
        "DevA" : {
             "Type" : "AWS::EC2::Instance",
             "Properties" : {
                  "InstanceType" : "t2.medium",
                  "ImageId" : "ami-08e12309db88c1a34",
                  "KeyName" : "EDSNDevStaging",
                  "SubnetId": { "Fn::ImportValue" : {"Fn::Sub" : "dev-staging-network-DevStagingServerSubnetA"} },
                  "SecurityGroupIds" : [ { "Fn::ImportValue" : {"Fn::Sub" : "dev-staging-security-group-server-DevStagingServerSecurityGroup"} }],
                  "Tags" : [ {"Key" : "Name", "Value" : "Dev A"} ],
                  "BlockDeviceMappings" : [
                         {
                            "DeviceName" : "/dev/sda1",
                            "Ebs" :
                                {
                                   "VolumeType" : "gp2",
                                   "DeleteOnTermination" : "true",
                                   "VolumeSize" : "20"
                                }
                         }
                  ]
             }
        },

        "StagingBase" : {
             "Type" : "AWS::EC2::Instance",
             "Properties" : {
                  "InstanceType" : "t2.medium",
                  "ImageId" : "ami-0a1c1c458e087e39b",
                  "KeyName" : "EDSNDevStaging",
                  "SubnetId": { "Fn::ImportValue" : {"Fn::Sub" : "dev-staging-network-DevStagingServerSubnetB"} },
                  "SecurityGroupIds" : [ { "Fn::ImportValue" : {"Fn::Sub" : "dev-staging-security-group-server-DevStagingServerSecurityGroup"} }],
                  "Tags" : [ {"Key" : "Name", "Value" : "Staging Base"} ],
                  "BlockDeviceMappings" : [
                         {
                            "DeviceName" : "/dev/sda1",
                            "Ebs" :
                                {
                                   "VolumeType" : "gp2",
                                   "DeleteOnTermination" : "true",
                                   "VolumeSize" : "20"
                                }
                         }
                  ]
             }
        },

        "DevStagingTunnelA" : {
             "Type" : "AWS::EC2::Instance",
             "Properties" : {
                  "InstanceType" : "t2.micro",
                  "ImageId" : "ami-0427e8367e3770df1",
                  "KeyName" : "EDSNDevStagingTunnel",
                  "SubnetId": { "Fn::ImportValue" : {"Fn::Sub" : "dev-staging-network-DevStagingServerSubnetA"} },
                  "SecurityGroupIds" : [ { "Fn::ImportValue" : {"Fn::Sub" : "dev-staging-security-group-server-DevStagingServerSecurityGroup"} }],
                  "Tags" : [ {"Key" : "Name", "Value" : "DevStaging Tunnel"} ],
                  "BlockDeviceMappings" : [
                         {
                            "DeviceName" : "/dev/sda1",
                            "Ebs" :
                                {
                                   "VolumeType" : "gp2",
                                   "DeleteOnTermination" : "true",
                                   "VolumeSize" : "20"
                                }
                         }
                  ]
             }
        },

        "BatchA" : {
             "Type" : "AWS::EC2::Instance",
             "Properties" : {
                  "InstanceType" : "t2.micro",
                  "ImageId" : "ami-0427e8367e3770df1",
                  "KeyName" : "EDSNDevStaging",
                  "SubnetId": { "Fn::ImportValue" : {"Fn::Sub" : "dev-staging-network-DevStagingServerSubnetA"} },
                  "SecurityGroupIds" : [ { "Fn::ImportValue" : {"Fn::Sub" : "dev-staging-security-group-server-DevStagingServerSecurityGroup"} }],
                  "Tags" : [ {"Key" : "Name", "Value" : "DevStaging Batch"} ],
                  "BlockDeviceMappings" : [
                         {
                            "DeviceName" : "/dev/sda1",
                            "Ebs" :
                                {
                                   "VolumeType" : "gp2",
                                   "DeleteOnTermination" : "true",
                                   "VolumeSize" : "20"
                                }
                         }
                  ]
             }
        }


   },

   "Outputs" : {


    }

}
